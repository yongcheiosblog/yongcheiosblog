<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/media/favicon.gif?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="易到用车iOS技术博客">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="易到用车iOS技术博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="易到用车iOS技术博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/"/>





  <title> 易到用车iOS技术博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59868687";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">易到用车iOS技术博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/23/2011/11/28/recursive-lambda/index/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="John Doe">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="易到用车iOS技术博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="易到用车iOS技术博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/23/2011/11/28/recursive-lambda/index/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-23T00:40:42+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/02/23/2011/11/28/recursive-lambda/index/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/23/2011/11/28/recursive-lambda/index/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="winrt,lambda,">








  <link rel="shortcut icon" type="image/x-icon" href="/media/favicon.gif?v=5.1.0">






<meta name="description" content="WinRT下异步操作很多，所以Lambda也很多，如果要让Lambda部分的函数递归如何实现？  
这个需求其实在C++下会比较突出一点，因为C#和VB下是managed的代码，比较容易实现回调事件。
其实也是一个小的“奇技淫巧”，不见得是什么好东西：
缓存下这个Lambda表达式的地址：opRead-&amp;gt;Completed = (Type sender){Lambda};  
在op-&amp;gt">
<meta property="og:type" content="article">
<meta property="og:title" content="Lambda表达式的递归">
<meta property="og:url" content="http://linyehui.me/2011/11/28/recursive-lambda/index.html">
<meta property="og:site_name" content="HABIT IS POWSER">
<meta property="og:description" content="WinRT下异步操作很多，所以Lambda也很多，如果要让Lambda部分的函数递归如何实现？  
这个需求其实在C++下会比较突出一点，因为C#和VB下是managed的代码，比较容易实现回调事件。
其实也是一个小的“奇技淫巧”，不见得是什么好东西：
缓存下这个Lambda表达式的地址：opRead-&amp;gt;Completed = (Type sender){Lambda};  
在op-&amp;gt">
<meta property="og:updated_time" content="2016-02-29T08:22:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lambda表达式的递归">
<meta name="twitter:description" content="WinRT下异步操作很多，所以Lambda也很多，如果要让Lambda部分的函数递归如何实现？  
这个需求其实在C++下会比较突出一点，因为C#和VB下是managed的代码，比较容易实现回调事件。
其实也是一个小的“奇技淫巧”，不见得是什么好东西：
缓存下这个Lambda表达式的地址：opRead-&amp;gt;Completed = (Type sender){Lambda};  
在op-&amp;gt">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://linyehui.me/2011/11/28/recursive-lambda/">





  <title> Lambda表达式的递归 | HABIT IS POWSER </title>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59868687";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">HABIT IS POWSER</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">习惯就是力量</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://linyehui.me/2011/11/28/recursive-lambda/">

  <span style="display:none" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="linyehui">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="HABIT IS POWSER">
    <span style="display:none" itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="HABIT IS POWSER" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Lambda表达式的递归
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2011-11-28T00:00:00+08:00">
                2011-11-28
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2011/11/28/recursive-lambda/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2011/11/28/recursive-lambda/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>WinRT下异步操作很多，所以Lambda也很多，如果要让Lambda部分的函数递归如何实现？  </p>
<p>这个需求其实在C++下会比较突出一点，因为C#和VB下是managed的代码，比较容易实现回调事件。</p>
<p>其实也是一个小的“奇技淫巧”，不见得是什么好东西：</p>
<p>缓存下这个Lambda表达式的地址：opRead-&gt;Completed = (Type sender){Lambda};  </p>
<p>在op-&gt;Start();之前缓存下这个地址：m_handler = opRead-&gt;Completed;  </p>
<p>然后你就可以在Lambda内部继续使用这个地址，于是乎递归达成。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/winrt/" rel="tag"># winrt</a>
          
            <a href="/tags/lambda/" rel="tag"># lambda</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2011/11/23/winrt-0xc0000135/" rel="next" title="WinRT 0xC0000135">
                <i class="fa fa-chevron-left"></i> WinRT 0xC0000135
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2011/12/01/shenzhen-gongjijin/" rel="prev" title="深圳公积金提取攻略之租房、异地购房">
                深圳公积金提取攻略之租房、异地购房 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2011/11/28/recursive-lambda/" data-title="Lambda表达式的递归" data-url="http://linyehui.me/2011/11/28/recursive-lambda/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="linyehui">
          <p class="site-author-name" itemprop="name">linyehui</p>
          <p class="site-description motion-element" itemprop="description">HABIT IS POWSER</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">141</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">176</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/linyehui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/linyehui" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2010 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-wifi"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" target="_blank" rel="external">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"linyehui"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/23/2011/12/02/wrl-error-c2872/index/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="John Doe">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="易到用车iOS技术博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="易到用车iOS技术博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/23/2011/12/02/wrl-error-c2872/index/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-23T00:40:42+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/02/23/2011/12/02/wrl-error-c2872/index/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/23/2011/12/02/wrl-error-c2872/index/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="win8,winrt,wrl,">








  <link rel="shortcut icon" type="image/x-icon" href="/media/favicon.gif?v=5.1.0">






<meta name="description" content="问题
新建一个Windows Metro style的Project(Application/Grid Application/WinRT Component DLL……)
#include 
编译，发现一堆错误，类似：

1231&amp;gt;c:\program files (x86)\windows kits\8.0\include\winrt\inspectable.h(110): error">
<meta property="og:type" content="article">
<meta property="og:title" content="#include &lt;wrl.h&gt;引发的C2872编译错误">
<meta property="og:url" content="http://linyehui.me/2011/12/02/wrl-error-c2872/index.html">
<meta property="og:site_name" content="HABIT IS POWSER">
<meta property="og:description" content="问题
新建一个Windows Metro style的Project(Application/Grid Application/WinRT Component DLL……)
#include 
编译，发现一堆错误，类似：

1231&amp;gt;c:\program files (x86)\windows kits\8.0\include\winrt\inspectable.h(110): error">
<meta property="og:updated_time" content="2014-07-07T13:44:47.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="#include &lt;wrl.h&gt;引发的C2872编译错误">
<meta name="twitter:description" content="问题
新建一个Windows Metro style的Project(Application/Grid Application/WinRT Component DLL……)
#include 
编译，发现一堆错误，类似：

1231&amp;gt;c:\program files (x86)\windows kits\8.0\include\winrt\inspectable.h(110): error">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://linyehui.me/2011/12/02/wrl-error-c2872/">





  <title> #include &lt;wrl.h&gt;引发的C2872编译错误 | HABIT IS POWSER </title>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59868687";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">HABIT IS POWSER</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">习惯就是力量</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://linyehui.me/2011/12/02/wrl-error-c2872/">

  <span style="display:none" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="linyehui">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="HABIT IS POWSER">
    <span style="display:none" itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="HABIT IS POWSER" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                #include &lt;wrl.h&gt;引发的C2872编译错误
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2011-12-02T00:00:00+08:00">
                2011-12-02
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2011/12/02/wrl-error-c2872/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2011/12/02/wrl-error-c2872/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><ol>
<li>新建一个Windows Metro style的Project(Application/Grid Application/WinRT Component DLL……)</li>
<li>#include <wrl.h></wrl.h></li>
<li>编译，发现一堆错误，类似：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1&gt;c:\program files (x86)\windows kits\8.0\include\winrt\inspectable.h(110): error C2872: &apos;TrustLevel&apos; : ambiguous symbol</div><div class="line">1&gt;          could be &apos;c:\program files (x86)\windows kits\8.0\include\winrt\inspectable.h(76) : TrustLevel&apos;</div><div class="line">1&gt;          or       &apos;c:\program files (x86)\microsoft visual studio 11.0\vc\lib\platform.winmd : Platform::TrustLevel&apos;</div></pre></td></tr></table></figure>
<h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><ol>
<li>错误原因很明显，两个命名空间下的类型定义冲突了</li>
<li>所以解决问题的方法其实就是二选一</li>
<li>我的方法是不用Platform这个命名空间下的类型定义，所以不要使用using namespace Platform，而是在需要的地方加上命名空间前缀，类似</li>
</ol>
<blockquote>
<p>Platform::TrustLevel</p>
</blockquote>
<h2 id="Project中带有App-xaml的解决方案"><a href="#Project中带有App-xaml的解决方案" class="headerlink" title="Project中带有App.xaml的解决方案"></a>Project中带有App.xaml的解决方案</h2><ol>
<li>我这暂时无解，因为App.g.h中会自动帮你生成代码：using namespace Platform</li>
</ol>
<h2 id="Project中不带App-xaml的解决方案"><a href="#Project中不带App-xaml的解决方案" class="headerlink" title="Project中不带App.xaml的解决方案"></a>Project中不带App.xaml的解决方案</h2><ol>
<li>这就就比较好办了，不要在文件头使用会导致C3872错误的using namespace</li>
<li>WinRT Component DLL的Project还会自动生成一个using namespace Windows::Foundation，也会有类似的问题，去掉文件头的using namespace，在需要的地方单独加前缀就可以解决这个问题</li>
</ol>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/win8/" rel="tag"># win8</a>
          
            <a href="/tags/winrt/" rel="tag"># winrt</a>
          
            <a href="/tags/wrl/" rel="tag"># wrl</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2011/12/01/shenzhen-gongjijin/" rel="next" title="深圳公积金提取攻略之租房、异地购房">
                <i class="fa fa-chevron-left"></i> 深圳公积金提取攻略之租房、异地购房
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2011/12/18/regdb-e-classnotreg-class-not-registered/" rel="prev" title="REGDB_E_CLASSNOTREG Class not registered">
                REGDB_E_CLASSNOTREG Class not registered <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2011/12/02/wrl-error-c2872/" data-title="#include &lt;wrl.h&gt;引发的C2872编译错误" data-url="http://linyehui.me/2011/12/02/wrl-error-c2872/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="linyehui">
          <p class="site-author-name" itemprop="name">linyehui</p>
          <p class="site-description motion-element" itemprop="description">HABIT IS POWSER</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">141</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">176</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/linyehui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/linyehui" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#问题"><span class="nav-number">1.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#分析"><span class="nav-number">2.</span> <span class="nav-text">分析</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Project中带有App-xaml的解决方案"><span class="nav-number">2.1.</span> <span class="nav-text">Project中带有App.xaml的解决方案</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Project中不带App-xaml的解决方案"><span class="nav-number">2.2.</span> <span class="nav-text">Project中不带App.xaml的解决方案</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2010 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-wifi"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" target="_blank" rel="external">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"linyehui"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/23/2011/12/01/shenzhen-gongjijin/index/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="John Doe">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="易到用车iOS技术博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="易到用车iOS技术博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/23/2011/12/01/shenzhen-gongjijin/index/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-23T00:40:42+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/02/23/2011/12/01/shenzhen-gongjijin/index/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/23/2011/12/01/shenzhen-gongjijin/index/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="gongjijin,shenzhen,">








  <link rel="shortcut icon" type="image/x-icon" href="/media/favicon.gif?v=5.1.0">






<meta name="description" content="说在前面最准确的信息在深圳住房公积金中心网站，如果本文的说明或解释和公积金网站上的有出入，请以公积金中心网站为准。  
网站的使用就不单独介绍了，官方网站一如既往的烂，要是访问过程中遇到莫名其妙的问题，大家要有点耐性。  
和提取相关的指南其实应该是大家最关心的，本文其实就是对指南的一个“取后感”。  
指南在这里：深圳公积金-网上办事-提取指南
租房提取官方指南：支付自住住房租金提取业务办理指南">
<meta property="og:type" content="article">
<meta property="og:title" content="深圳公积金提取攻略之租房、异地购房">
<meta property="og:url" content="http://linyehui.me/2011/12/01/shenzhen-gongjijin/index.html">
<meta property="og:site_name" content="HABIT IS POWSER">
<meta property="og:description" content="说在前面最准确的信息在深圳住房公积金中心网站，如果本文的说明或解释和公积金网站上的有出入，请以公积金中心网站为准。  
网站的使用就不单独介绍了，官方网站一如既往的烂，要是访问过程中遇到莫名其妙的问题，大家要有点耐性。  
和提取相关的指南其实应该是大家最关心的，本文其实就是对指南的一个“取后感”。  
指南在这里：深圳公积金-网上办事-提取指南
租房提取官方指南：支付自住住房租金提取业务办理指南">
<meta property="og:updated_time" content="2016-02-29T08:22:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="深圳公积金提取攻略之租房、异地购房">
<meta name="twitter:description" content="说在前面最准确的信息在深圳住房公积金中心网站，如果本文的说明或解释和公积金网站上的有出入，请以公积金中心网站为准。  
网站的使用就不单独介绍了，官方网站一如既往的烂，要是访问过程中遇到莫名其妙的问题，大家要有点耐性。  
和提取相关的指南其实应该是大家最关心的，本文其实就是对指南的一个“取后感”。  
指南在这里：深圳公积金-网上办事-提取指南
租房提取官方指南：支付自住住房租金提取业务办理指南">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://linyehui.me/2011/12/01/shenzhen-gongjijin/">





  <title> 深圳公积金提取攻略之租房、异地购房 | HABIT IS POWSER </title>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59868687";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">HABIT IS POWSER</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">习惯就是力量</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://linyehui.me/2011/12/01/shenzhen-gongjijin/">

  <span style="display:none" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="linyehui">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="HABIT IS POWSER">
    <span style="display:none" itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="HABIT IS POWSER" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                深圳公积金提取攻略之租房、异地购房
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2011-12-01T00:00:00+08:00">
                2011-12-01
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2011/12/01/shenzhen-gongjijin/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2011/12/01/shenzhen-gongjijin/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="说在前面"><a href="#说在前面" class="headerlink" title="说在前面"></a>说在前面</h1><p><strong>最准确的信息在<a href="http://szzfgjj.com/" target="_blank" rel="external">深圳住房公积金中心网站</a>，如果本文的说明或解释和公积金网站上的有出入，请以公积金中心网站为准。</strong>  </p>
<p>网站的使用就不单独介绍了，官方网站一如既往的烂，要是访问过程中遇到莫名其妙的问题，大家要有点耐性。  </p>
<p>和提取相关的指南其实应该是大家最关心的，本文其实就是对指南的一个“取后感”。  </p>
<p>指南在这里：<a href="http://szzfgjj.com/tiqu/index.htm" target="_blank" rel="external">深圳公积金-网上办事-提取指南</a></p>
<h1 id="租房提取"><a href="#租房提取" class="headerlink" title="租房提取"></a>租房提取</h1><p>官方指南：<a href="http://szzfgjj.com/tiqu/1261.htm" target="_blank" rel="external">支付自住住房租金提取业务办理指南（试行）</a></p>
<p><strong>我的心得：</strong>  </p>
<p>0、租房提取可以选择一个你自己最方便的银行进行，当然要是你的公积金银行卡的所属银行  </p>
<p>1、租房提取一年可以提取两次，可以累积提取，暂时不缺钱的话可以以后一起提取  </p>
<p>2、提取需要网上预约，先到<a href="https://nbp.szzfgjj.com/nbp/pri.jsp" target="_blank" rel="external">网上登录</a>，然后修改下网上的登录密码(这个相当于是激活网上账户，进行过一次就可以了)，然后进行预约  </p>
<p>3、提取需要事先激活公积金银行卡，最好事先到银行激活，取公积金的窗口是独立的，和激活银行卡的窗口不是同一个  </p>
<p>4、<strong>需要带的材料：</strong>身份证、公积金银行卡  </p>
<p>5、到预约的银行进行提取，5分钟之内搞定  </p>
<h1 id="异地购房提取"><a href="#异地购房提取" class="headerlink" title="异地购房提取"></a>异地购房提取</h1><p>官方指南：<a href="http://www.szzfgjj.com/tiqu/1259.htm" target="_blank" rel="external">异地购房提取业务办理指南（试行）</a></p>
<p><strong>我的心得：</strong>  </p>
<p>0、异地购房提取必须到公积金中心办事大厅才能提取，在福田，具体地址：<a href="http://www.szzfgjj.com/tzgg/408.htm" target="_blank" rel="external">深圳市住房公积金管理中心交通路线</a>  </p>
<p>1、异地购房提取只能提取一次，购房后两年内有效，以契税上的日期为准，如果你想取的最多就在契税上的日期推后两年的时间点<strong>之前</strong>去提取（会保留一个月的钱在卡里）  </p>
<p>2、提取需要网上预约，先到<a href="https://nbp.szzfgjj.com/nbp/pri.jsp" target="_blank" rel="external">网上登录</a>，然后修改下网上的登录密码(这个相当于是激活网上账户，进行过一次就可以了)，然后进行预约  </p>
<p>3、提取需要事先激活公积金银行卡，公积金办事大厅应该是不能激活银行卡的，所以要实现去银行激活  </p>
<p>4、<strong>没有按照配偶和未成年子女份额提取的（我的理解就是只提取自己的）需要带的材料：</strong>身份证、公积金银行卡、房产证、契税发票（复印什么的看自己方不方便，办事大厅那里也会帮你复印），每个家庭的情况不一样，需要按XXX份额提取的话，最好看下<a href="http://www.szzfgjj.com/tiqu/1259.htm" target="_blank" rel="external">官方指南</a>  </p>
<p>5、到福田的公积金办事大厅提取，20分钟之内搞定  </p>
<h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>我本来也是很没信心能从ZF手中把自己的钱给取了，但是情况所逼，再烂的网站，再难懂的条例我也要看下去，看明白，然后把自己的钱给取了。  </p>
<p>事实证明：虽然麻烦点，但还是可以做到的。</p>
<p>我的租房提取是在招商银行进行的，招行的MM很热心，但是对业务不熟，导致效率很低，有问题她们也说的不是很清楚；  </p>
<p>异地购房提取是在公积金中心办事大厅提取的，服务态度挺好，小伙子对业务很熟悉，问的问题都能马上解答清楚，稍微有点欣慰。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/gongjijin/" rel="tag"># gongjijin</a>
          
            <a href="/tags/shenzhen/" rel="tag"># shenzhen</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2011/11/28/recursive-lambda/" rel="next" title="Lambda表达式的递归">
                <i class="fa fa-chevron-left"></i> Lambda表达式的递归
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2011/12/02/wrl-error-c2872/" rel="prev" title="#include &lt;wrl.h&gt;引发的C2872编译错误">
                #include &lt;wrl.h&gt;引发的C2872编译错误 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2011/12/01/shenzhen-gongjijin/" data-title="深圳公积金提取攻略之租房、异地购房" data-url="http://linyehui.me/2011/12/01/shenzhen-gongjijin/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="linyehui">
          <p class="site-author-name" itemprop="name">linyehui</p>
          <p class="site-description motion-element" itemprop="description">HABIT IS POWSER</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">141</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">176</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/linyehui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/linyehui" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#说在前面"><span class="nav-number">1.</span> <span class="nav-text">说在前面</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#租房提取"><span class="nav-number">2.</span> <span class="nav-text">租房提取</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#异地购房提取"><span class="nav-number">3.</span> <span class="nav-text">异地购房提取</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#后记"><span class="nav-number">4.</span> <span class="nav-text">后记</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2010 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-wifi"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" target="_blank" rel="external">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"linyehui"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/23/2011/12/18/how-to-access-ui-element-in-another-thread/index/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="John Doe">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="易到用车iOS技术博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="易到用车iOS技术博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/23/2011/12/18/how-to-access-ui-element-in-another-thread/index/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-23T00:40:42+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/02/23/2011/12/18/how-to-access-ui-element-in-another-thread/index/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/23/2011/12/18/how-to-access-ui-element-in-another-thread/index/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="winrt,async,">








  <link rel="shortcut icon" type="image/x-icon" href="/media/favicon.gif?v=5.1.0">






<meta name="description" content="我的问题是：WinRT下如何在另外一个线程中访问UI线程 How To Access UI Element In Another Thread在UI所属线程之外的线程调用UI元素的方法或者属性会导致异常，怎样解决这样的问题呢？
微软为我们提供了这样的方法：
Windows::UI::Core::CoreDispatcher-&amp;gt;Invoke

这个方法会将函数调用放到CoreDispatche">
<meta property="og:type" content="article">
<meta property="og:title" content="WinRT下如何在另外一个线程中访问UI线程">
<meta property="og:url" content="http://linyehui.me/2011/12/18/how-to-access-ui-element-in-another-thread/index.html">
<meta property="og:site_name" content="HABIT IS POWSER">
<meta property="og:description" content="我的问题是：WinRT下如何在另外一个线程中访问UI线程 How To Access UI Element In Another Thread在UI所属线程之外的线程调用UI元素的方法或者属性会导致异常，怎样解决这样的问题呢？
微软为我们提供了这样的方法：
Windows::UI::Core::CoreDispatcher-&amp;gt;Invoke

这个方法会将函数调用放到CoreDispatche">
<meta property="og:updated_time" content="2016-02-29T08:35:29.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="WinRT下如何在另外一个线程中访问UI线程">
<meta name="twitter:description" content="我的问题是：WinRT下如何在另外一个线程中访问UI线程 How To Access UI Element In Another Thread在UI所属线程之外的线程调用UI元素的方法或者属性会导致异常，怎样解决这样的问题呢？
微软为我们提供了这样的方法：
Windows::UI::Core::CoreDispatcher-&amp;gt;Invoke

这个方法会将函数调用放到CoreDispatche">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://linyehui.me/2011/12/18/how-to-access-ui-element-in-another-thread/">





  <title> WinRT下如何在另外一个线程中访问UI线程 | HABIT IS POWSER </title>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59868687";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">HABIT IS POWSER</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">习惯就是力量</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://linyehui.me/2011/12/18/how-to-access-ui-element-in-another-thread/">

  <span style="display:none" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="linyehui">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="HABIT IS POWSER">
    <span style="display:none" itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="HABIT IS POWSER" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                WinRT下如何在另外一个线程中访问UI线程
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2011-12-18T00:00:00+08:00">
                2011-12-18
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2011/12/18/how-to-access-ui-element-in-another-thread/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2011/12/18/how-to-access-ui-element-in-another-thread/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="我的问题是："><a href="#我的问题是：" class="headerlink" title="我的问题是："></a>我的问题是：</h1><p>WinRT下如何在另外一个线程中访问UI线程 How To Access UI Element In Another Thread<br>在UI所属线程之外的线程调用UI元素的方法或者属性会导致异常，怎样解决这样的问题呢？</p>
<h1 id="微软为我们提供了这样的方法："><a href="#微软为我们提供了这样的方法：" class="headerlink" title="微软为我们提供了这样的方法："></a>微软为我们提供了这样的方法：</h1><blockquote>
<p>Windows::UI::Core::CoreDispatcher-&gt;Invoke</p>
</blockquote>
<p>这个方法会将函数调用放到CoreDispatcher所属的线程中进行调用，而这个CoreDispatcher一般属于界面线程，可以这么得到：</p>
<blockquote>
<p>Window::Current-&gt;CoreWindows-&gt;Dispatcher</p>
</blockquote>
<h1 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h1><p>假设存在一个回调接口的实现类CXXCallback，专门用于接收别的线程的回调消息，然后负责通知界面更新</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CXXCallback::OnUIChange()</div><div class="line">&#123;</div><div class="line">   <span class="keyword">auto</span> callback = ref <span class="keyword">new</span> Windows::UI::Core::InvokedHandler([<span class="keyword">this</span>](Platform::Object^ sender, Windows::UI::Core::InvokedHandlerArgs^ eInvoke)&#123;</div><div class="line">   *** 进行界面更新，调用界面元素的方法**</div><div class="line">   *** ……**</div><div class="line">   &#125;,Platform::CallbackContext::Any);</div><div class="line">   **m_coreDispatcher**-&gt;Invoke(Windows::UI::Core::CoreDispatcherPriority::Normal, callback, m_coreDispatcher, <span class="literal">nullptr</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>m_coreDispatcher</strong> 可以从任何CoreWindows的派生类型中获取到，可以想象到WinRT的API在底下帮我们做了什么事情？</p>
<h2 id="我们猜测底层的实现机制可能类似："><a href="#我们猜测底层的实现机制可能类似：" class="headerlink" title="我们猜测底层的实现机制可能类似："></a>我们猜测底层的实现机制可能类似：</h2><p>1、一个窗口，用来PostMessage  </p>
<p>2、帮我们维护一些全局变量，让我们无缝的使用CXXCallback的类成员变量和OnUIChange()函数内的临时变量</p>
<h1 id="比较有用的参考资料："><a href="#比较有用的参考资料：" class="headerlink" title="比较有用的参考资料："></a>比较有用的参考资料：</h1><p><a href="http://channel9.msdn.com/Events/BUILD/BUILD2011/PLAT-203T" target="_blank" rel="external">Async everywhere: creating responsive APIs &amp; apps</a>PPT的第31页的位置  </p>
<p>4 Don’t worry about Dispatcher.Invoke…</p>
<p><a href="http://social.msdn.microsoft.com/Forums/en/winappswithnativecode/thread/e36f84be-db95-4764-951e-bfa662cdd11d" target="_blank" rel="external">How to Access UI Element in a Thread Routine? </a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/winrt/" rel="tag"># winrt</a>
          
            <a href="/tags/async/" rel="tag"># async</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2011/12/18/regdb-e-classnotreg-class-not-registered/" rel="next" title="REGDB_E_CLASSNOTREG Class not registered">
                <i class="fa fa-chevron-left"></i> REGDB_E_CLASSNOTREG Class not registered
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/" rel="prev" title="VS2011 Preview版本下在Metrol style app中使用.C文件">
                VS2011 Preview版本下在Metrol style app中使用.C文件 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2011/12/18/how-to-access-ui-element-in-another-thread/" data-title="WinRT下如何在另外一个线程中访问UI线程" data-url="http://linyehui.me/2011/12/18/how-to-access-ui-element-in-another-thread/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="linyehui">
          <p class="site-author-name" itemprop="name">linyehui</p>
          <p class="site-description motion-element" itemprop="description">HABIT IS POWSER</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">141</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">176</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/linyehui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/linyehui" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#我的问题是："><span class="nav-number">1.</span> <span class="nav-text">我的问题是：</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#微软为我们提供了这样的方法："><span class="nav-number">2.</span> <span class="nav-text">微软为我们提供了这样的方法：</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#示例："><span class="nav-number">3.</span> <span class="nav-text">示例：</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#我们猜测底层的实现机制可能类似："><span class="nav-number">3.1.</span> <span class="nav-text">我们猜测底层的实现机制可能类似：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#比较有用的参考资料："><span class="nav-number">4.</span> <span class="nav-text">比较有用的参考资料：</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2010 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-wifi"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" target="_blank" rel="external">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"linyehui"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/23/2011/12/18/regdb-e-classnotreg-class-not-registered/index/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="John Doe">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="易到用车iOS技术博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="易到用车iOS技术博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/23/2011/12/18/regdb-e-classnotreg-class-not-registered/index/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-23T00:40:42+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/02/23/2011/12/18/regdb-e-classnotreg-class-not-registered/index/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/23/2011/12/18/regdb-e-classnotreg-class-not-registered/index/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="winrt,vs2011,">








  <link rel="shortcut icon" type="image/x-icon" href="/media/favicon.gif?v=5.1.0">






<meta name="description" content="一个诡异的问题：WinRT多工程情况下，调用另一个DLL中的接口，构造那个类型的时候就会直接抛出异常，错误码为0x80040154，REGDB_E_CLASSNOTREG，注释是：Class not registered
最终在MSDN上找到相关的解答是：Creating Windows Runtime Components in C# and Visual Basic

Visual Studi">
<meta property="og:type" content="article">
<meta property="og:title" content="REGDB_E_CLASSNOTREG Class not registered">
<meta property="og:url" content="http://linyehui.me/2011/12/18/regdb-e-classnotreg-class-not-registered/index.html">
<meta property="og:site_name" content="HABIT IS POWSER">
<meta property="og:description" content="一个诡异的问题：WinRT多工程情况下，调用另一个DLL中的接口，构造那个类型的时候就会直接抛出异常，错误码为0x80040154，REGDB_E_CLASSNOTREG，注释是：Class not registered
最终在MSDN上找到相关的解答是：Creating Windows Runtime Components in C# and Visual Basic

Visual Studi">
<meta property="og:updated_time" content="2016-02-29T08:22:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="REGDB_E_CLASSNOTREG Class not registered">
<meta name="twitter:description" content="一个诡异的问题：WinRT多工程情况下，调用另一个DLL中的接口，构造那个类型的时候就会直接抛出异常，错误码为0x80040154，REGDB_E_CLASSNOTREG，注释是：Class not registered
最终在MSDN上找到相关的解答是：Creating Windows Runtime Components in C# and Visual Basic

Visual Studi">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://linyehui.me/2011/12/18/regdb-e-classnotreg-class-not-registered/">





  <title> REGDB_E_CLASSNOTREG Class not registered | HABIT IS POWSER </title>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59868687";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">HABIT IS POWSER</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">习惯就是力量</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://linyehui.me/2011/12/18/regdb-e-classnotreg-class-not-registered/">

  <span style="display:none" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="linyehui">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="HABIT IS POWSER">
    <span style="display:none" itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="HABIT IS POWSER" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                REGDB_E_CLASSNOTREG Class not registered
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2011-12-18T00:00:00+08:00">
                2011-12-18
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2011/12/18/regdb-e-classnotreg-class-not-registered/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2011/12/18/regdb-e-classnotreg-class-not-registered/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="一个诡异的问题："><a href="#一个诡异的问题：" class="headerlink" title="一个诡异的问题："></a>一个诡异的问题：</h1><p>WinRT多工程情况下，调用另一个DLL中的接口，构造那个类型的时候就会直接抛出异常，错误码为0x80040154，REGDB_E_CLASSNOTREG，注释是：Class not registered</p>
<h1 id="最终在MSDN上找到相关的解答是："><a href="#最终在MSDN上找到相关的解答是：" class="headerlink" title="最终在MSDN上找到相关的解答是："></a>最终在MSDN上找到相关的解答是：</h1><p><a href="http://msdn.microsoft.com/en-us/library/windows/apps/br230301.aspx" target="_blank" rel="external">Creating Windows Runtime Components in C# and Visual Basic</a></p>
<blockquote>
<p>Visual Studio 11 Express for Windows Developer Preview fails to add classes to the app manifest if they don’t have default constructors. </p>
<p> This causes a “Class not registered” error at run time, when JavaScript code tries to instantiate the class. The workaround is to add a default constructor.</p>
<p> ‘’’Important’’’  </p>
</blockquote>
<p>When you encounter this error, simply adding a default constructor to the class doesn’t fix the problem. Stop the debugger and then delete the AppXManifest.xml file from the Debug folder, forcing Visual Studio to regenerate the file and add the class. Alternatively, you can manually add the class to the extensions section of the manifest.</p>
<h2 id="简要来说："><a href="#简要来说：" class="headerlink" title="简要来说："></a>简要来说：</h2><p>就是AppXManifest.xml这个文件编译时生成的有问题，没有把DLL中的类生成完整，导致另外的工程调用时无法识别；<br>手工添加上后就可以成功调用了。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/winrt/" rel="tag"># winrt</a>
          
            <a href="/tags/vs2011/" rel="tag"># vs2011</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2011/12/02/wrl-error-c2872/" rel="next" title="#include &lt;wrl.h&gt;引发的C2872编译错误">
                <i class="fa fa-chevron-left"></i> #include &lt;wrl.h&gt;引发的C2872编译错误
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2011/12/18/how-to-access-ui-element-in-another-thread/" rel="prev" title="WinRT下如何在另外一个线程中访问UI线程">
                WinRT下如何在另外一个线程中访问UI线程 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2011/12/18/regdb-e-classnotreg-class-not-registered/" data-title="REGDB_E_CLASSNOTREG Class not registered" data-url="http://linyehui.me/2011/12/18/regdb-e-classnotreg-class-not-registered/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="linyehui">
          <p class="site-author-name" itemprop="name">linyehui</p>
          <p class="site-description motion-element" itemprop="description">HABIT IS POWSER</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">141</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">176</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/linyehui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/linyehui" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#一个诡异的问题："><span class="nav-number">1.</span> <span class="nav-text">一个诡异的问题：</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#最终在MSDN上找到相关的解答是："><span class="nav-number">2.</span> <span class="nav-text">最终在MSDN上找到相关的解答是：</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#简要来说："><span class="nav-number">2.1.</span> <span class="nav-text">简要来说：</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2010 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-wifi"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" target="_blank" rel="external">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"linyehui"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/23/2011/12/28/how-to-port-code-to-winrt/index/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="John Doe">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="易到用车iOS技术博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="易到用车iOS技术博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/23/2011/12/28/how-to-port-code-to-winrt/index/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-23T00:40:42+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/02/23/2011/12/28/how-to-port-code-to-winrt/index/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/23/2011/12/28/how-to-port-code-to-winrt/index/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="win8,winrt,appcert,certification,">








  <link rel="shortcut icon" type="image/x-icon" href="/media/favicon.gif?v=5.1.0">






<meta name="description" content="首先要明确下迁移成功的标准：通过Windows App Certification Kit的Validate Metro style App
问题一：App安装后，无法在认证列表中找到这个问题很诡异，我换了一台机器就好了，完全不知道什么原因，可以参照下下面这个帖子，看看过段时间微软的人会不会答复这个问题。  
Prerequisites for exposing metro application">
<meta property="og:type" content="article">
<meta property="og:title" content="How To Port Code To WinRT">
<meta property="og:url" content="http://linyehui.me/2011/12/28/how-to-port-code-to-winrt/index.html">
<meta property="og:site_name" content="HABIT IS POWSER">
<meta property="og:description" content="首先要明确下迁移成功的标准：通过Windows App Certification Kit的Validate Metro style App
问题一：App安装后，无法在认证列表中找到这个问题很诡异，我换了一台机器就好了，完全不知道什么原因，可以参照下下面这个帖子，看看过段时间微软的人会不会答复这个问题。  
Prerequisites for exposing metro application">
<meta property="og:updated_time" content="2016-02-29T08:37:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How To Port Code To WinRT">
<meta name="twitter:description" content="首先要明确下迁移成功的标准：通过Windows App Certification Kit的Validate Metro style App
问题一：App安装后，无法在认证列表中找到这个问题很诡异，我换了一台机器就好了，完全不知道什么原因，可以参照下下面这个帖子，看看过段时间微软的人会不会答复这个问题。  
Prerequisites for exposing metro application">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://linyehui.me/2011/12/28/how-to-port-code-to-winrt/">





  <title> How To Port Code To WinRT | HABIT IS POWSER </title>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59868687";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">HABIT IS POWSER</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">习惯就是力量</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://linyehui.me/2011/12/28/how-to-port-code-to-winrt/">

  <span style="display:none" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="linyehui">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="HABIT IS POWSER">
    <span style="display:none" itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="HABIT IS POWSER" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                How To Port Code To WinRT
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2011-12-28T00:00:00+08:00">
                2011-12-28
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2011/12/28/how-to-port-code-to-winrt/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2011/12/28/how-to-port-code-to-winrt/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><strong>首先要明确下迁移成功的标准：通过Windows App Certification Kit的Validate Metro style App</strong></p>
<h1 id="问题一：App安装后，无法在认证列表中找到"><a href="#问题一：App安装后，无法在认证列表中找到" class="headerlink" title="问题一：App安装后，无法在认证列表中找到"></a>问题一：App安装后，无法在认证列表中找到</h1><p>这个问题很诡异，我换了一台机器就好了，完全不知道什么原因，可以参照下下面这个帖子，看看过段时间微软的人会不会答复这个问题。  </p>
<p><a href="http://social.msdn.microsoft.com/Forums/en-US/toolsforwinapps/thread/32ea893d-2e34-44f9-973f-5c3819141a7a" target="_blank" rel="external">Prerequisites for exposing metro applications to the Windows Logo Certification GUI application? </a></p>
<h1 id="问题二：References没有Debug和Release之分，打包和认证时要特别留意"><a href="#问题二：References没有Debug和Release之分，打包和认证时要特别留意" class="headerlink" title="问题二：References没有Debug和Release之分，打包和认证时要特别留意"></a>问题二：References没有Debug和Release之分，打包和认证时要特别留意</h1><p>如果用到了动态链接库，Deploy和Package VS都会把References那里指定的那个DLL打包过去！  </p>
<p>注意：Debug和Release只能选择一个！这个问题不留意的话会遇到非常诡异的问题，编译没问题，调用时抛出莫名其妙的Exception</p>
<h2 id="在解决认证的这个问题时我发现了这么一个诡异的问题："><a href="#在解决认证的这个问题时我发现了这么一个诡异的问题：" class="headerlink" title="在解决认证的这个问题时我发现了这么一个诡异的问题："></a>在解决认证的这个问题时我发现了这么一个诡异的问题：</h2><blockquote>
<p>认证的结果显示用到了不被支持的API，解决问题的方法比较直接，无非就是去掉对这些函数的使用，但是我发现我明明已经不用这个函数了，但是检测还是不通过<br>  Use of Supported Platform APIs<br>  FAILED Supported APIs<br>  Error: This application failed the supported API check.</p>
<h3 id="最后发现原因是这样："><a href="#最后发现原因是这样：" class="headerlink" title="最后发现原因是这样："></a>最后发现原因是这样：</h3><ol>
<li>我拿来认证的是Release版本，但是References里面绑定的文件没有Debug和Release之分，当时指定的是Debug的</li>
<li>Package的时候会把Reference的那个DLL打包进去，我改的是Release，实际打包的时Debug的那个Dll</li>
<li>明白了问题的原因，改起来就很明显了，坑爹！改了下References中的引用，改了就通过了</li>
</ol>
</blockquote>
<h2 id="Unsupported-API的替换方案"><a href="#Unsupported-API的替换方案" class="headerlink" title="Unsupported API的替换方案"></a>Unsupported API的替换方案</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">CreateEvent-&gt;CreateEventEx</div><div class="line">CreateFileW-&gt;CreateFile2</div><div class="line">CreateMutexW-&gt;CreateMutexEx</div><div class="line">WaitForSingleObject-&gt;WaitForSingleObjectEx</div><div class="line">GetTickCount-&gt;(DWORD)GetTickCount64</div><div class="line">DeleteFileA-&gt;DeleteFileW</div><div class="line">FormatMessageA-&gt;FormatMessageW</div><div class="line">GetDiskFreeSpaceA-&gt;GetDiskFreeSpaceW</div><div class="line">GetFileAttributes-&gt;GetFileAttributesEx</div><div class="line">GetFileSize-&gt;GetFileInformationByHandleEx</div><div class="line">GetFullPathName-&gt; :(</div><div class="line">GetTempPathA-&gt; :(</div><div class="line">GetVersionExW-&gt; :(</div><div class="line">InitializeCriticalSection-&gt;InitializeCriticalSectionEx</div><div class="line">LoadLibrary-&gt;don&apos;t use this at best,alothough ther is LoadPackagedLibrary can use</div><div class="line">LockFile-&gt;LockFileEx</div><div class="line">UnLockFile-&gt;UnLockFileEx</div><div class="line">OutputDebugStringA-&gt; don&apos;t use</div><div class="line">SetFilePointer-&gt;SetFilePointerEx</div><div class="line">SetThreadPriority-&gt; :(</div></pre></td></tr></table></figure>
<h2 id="特别说明下GetFileSize的替代方案的实现："><a href="#特别说明下GetFileSize的替代方案的实现：" class="headerlink" title="特别说明下GetFileSize的替代方案的实现："></a>特别说明下GetFileSize的替代方案的实现：</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function">DWORD <span class="title">WinRTGetFileSize</span><span class="params">(_In_ HANDLE hFile, _Out_opt_ LPDWORD lpFileSizeHigh)</span></span></div><div class="line">&#123;</div><div class="line">	FILE_STANDARD_INFO stInfo = &#123;<span class="number">0</span>&#125;;</div><div class="line">	<span class="keyword">if</span> (GetFileInformationByHandleEx(hFile, FileStandardInfo, &amp;stInfo, <span class="keyword">sizeof</span>(stInfo )))</div><div class="line">	&#123;</div><div class="line">		*lpFileSizeHigh = stInfo.EndOfFile.HighPart;</div><div class="line">		<span class="keyword">return</span> stInfo.EndOfFile.LowPart;</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">	<span class="keyword">return</span> INVALID_FILE_SIZE;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="WinRT下支持的Win32API列表可以从这里查到"><a href="#WinRT下支持的Win32API列表可以从这里查到" class="headerlink" title="WinRT下支持的Win32API列表可以从这里查到"></a>WinRT下支持的Win32API列表可以从这里查到</h2><p>(find Win32 API which is supported by WinRT here):  </p>
<p><a href="http://msdn.microsoft.com/en-us/library/windows/apps/br205757.aspx" target="_blank" rel="external">Win32 and COM for Metro style apps</a>  </p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/win8/" rel="tag"># win8</a>
          
            <a href="/tags/winrt/" rel="tag"># winrt</a>
          
            <a href="/tags/appcert/" rel="tag"># appcert</a>
          
            <a href="/tags/certification/" rel="tag"># certification</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/" rel="next" title="VS2011 Preview版本下在Metrol style app中使用.C文件">
                <i class="fa fa-chevron-left"></i> VS2011 Preview版本下在Metrol style app中使用.C文件
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2011/12/30/win32-and-com-for-metro-style-apps/" rel="prev" title="转载合集Win32 and COM for Metro style apps">
                转载合集Win32 and COM for Metro style apps <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2011/12/28/how-to-port-code-to-winrt/" data-title="How To Port Code To WinRT" data-url="http://linyehui.me/2011/12/28/how-to-port-code-to-winrt/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="linyehui">
          <p class="site-author-name" itemprop="name">linyehui</p>
          <p class="site-description motion-element" itemprop="description">HABIT IS POWSER</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">141</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">176</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/linyehui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/linyehui" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#问题一：App安装后，无法在认证列表中找到"><span class="nav-number">1.</span> <span class="nav-text">问题一：App安装后，无法在认证列表中找到</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#问题二：References没有Debug和Release之分，打包和认证时要特别留意"><span class="nav-number">2.</span> <span class="nav-text">问题二：References没有Debug和Release之分，打包和认证时要特别留意</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#在解决认证的这个问题时我发现了这么一个诡异的问题："><span class="nav-number">2.1.</span> <span class="nav-text">在解决认证的这个问题时我发现了这么一个诡异的问题：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#最后发现原因是这样："><span class="nav-number">2.1.1.</span> <span class="nav-text">最后发现原因是这样：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Unsupported-API的替换方案"><span class="nav-number">2.2.</span> <span class="nav-text">Unsupported API的替换方案</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#特别说明下GetFileSize的替代方案的实现："><span class="nav-number">2.3.</span> <span class="nav-text">特别说明下GetFileSize的替代方案的实现：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WinRT下支持的Win32API列表可以从这里查到"><span class="nav-number">2.4.</span> <span class="nav-text">WinRT下支持的Win32API列表可以从这里查到</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2010 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-wifi"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" target="_blank" rel="external">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"linyehui"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/23/2011/12/30/3rdparty-port-to-winrt/index/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="John Doe">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="易到用车iOS技术博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="易到用车iOS技术博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/23/2011/12/30/3rdparty-port-to-winrt/index/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-23T00:40:42+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/02/23/2011/12/30/3rdparty-port-to-winrt/index/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/23/2011/12/30/3rdparty-port-to-winrt/index/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="win8,winrt,3rdparty,port,sqlite,zlib,">








  <link rel="shortcut icon" type="image/x-icon" href="/media/favicon.gif?v=5.1.0">






<meta name="description" content="本文发表时Win8和VS2011还没正式发布，处于Developer Preview版本，之后的情况可能不是这样了

很多第三方库类似zlib,sqlite都是.c实现的，这些库如何用到WinRT中呢？  
推荐的方法：
1、在VS2011下新建一个Win32 Static lib工程，比如，我自己就是新建了一个叫做“3rdparty”的工程，然后把所有的第三方库添加进去，编译成一个lib，直接">
<meta property="og:type" content="article">
<meta property="og:title" content="第三方库在WinRT下的使用">
<meta property="og:url" content="http://linyehui.me/2011/12/30/3rdparty-port-to-winrt/index.html">
<meta property="og:site_name" content="HABIT IS POWSER">
<meta property="og:description" content="本文发表时Win8和VS2011还没正式发布，处于Developer Preview版本，之后的情况可能不是这样了

很多第三方库类似zlib,sqlite都是.c实现的，这些库如何用到WinRT中呢？  
推荐的方法：
1、在VS2011下新建一个Win32 Static lib工程，比如，我自己就是新建了一个叫做“3rdparty”的工程，然后把所有的第三方库添加进去，编译成一个lib，直接">
<meta property="og:updated_time" content="2016-02-29T08:22:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第三方库在WinRT下的使用">
<meta name="twitter:description" content="本文发表时Win8和VS2011还没正式发布，处于Developer Preview版本，之后的情况可能不是这样了

很多第三方库类似zlib,sqlite都是.c实现的，这些库如何用到WinRT中呢？  
推荐的方法：
1、在VS2011下新建一个Win32 Static lib工程，比如，我自己就是新建了一个叫做“3rdparty”的工程，然后把所有的第三方库添加进去，编译成一个lib，直接">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://linyehui.me/2011/12/30/3rdparty-port-to-winrt/">





  <title> 第三方库在WinRT下的使用 | HABIT IS POWSER </title>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59868687";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">HABIT IS POWSER</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">习惯就是力量</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://linyehui.me/2011/12/30/3rdparty-port-to-winrt/">

  <span style="display:none" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="linyehui">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="HABIT IS POWSER">
    <span style="display:none" itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="HABIT IS POWSER" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                第三方库在WinRT下的使用
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2011-12-30T00:00:00+08:00">
                2011-12-30
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2011/12/30/3rdparty-port-to-winrt/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2011/12/30/3rdparty-port-to-winrt/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>本文发表时Win8和VS2011还没正式发布，处于Developer Preview版本，之后的情况可能不是这样了</p>
</blockquote>
<p>很多第三方库类似zlib,sqlite都是.c实现的，这些库如何用到WinRT中呢？  </p>
<h1 id="推荐的方法："><a href="#推荐的方法：" class="headerlink" title="推荐的方法："></a>推荐的方法：</h1><ul>
<li>1、在VS2011下新建一个Win32 Static lib工程，比如，我自己就是新建了一个叫做“3rdparty”的工程，然后把所有的第三方库添加进去，编译成一个lib，直接在Metro style apps中使用，用起来和Win32下一摸一样</li>
<li>2、<strong>这个步骤是必须的：</strong>[<a href="http://msdn.microsoft.com/en-us/library/windows/apps/br230262(v=VS.85).aspx" target="_blank" rel="external">http://msdn.microsoft.com/en-us/library/windows/apps/br230262(v=VS.85).aspx</a> Validating your package on your local machine]，你的应用必须通过了”Windows App Certification Kit”里的“Validate Metro style App”，你的第三方库使用才算是正常的</li>
</ul>
<h1 id="不推荐的方法"><a href="#不推荐的方法" class="headerlink" title="不推荐的方法"></a>不推荐的方法</h1><p>把.c文件移植成.cpp</p>
<h1 id="可能存在的疑问："><a href="#可能存在的疑问：" class="headerlink" title="可能存在的疑问："></a>可能存在的疑问：</h1><ul>
<li>1、VS2011不能新建Win32工程<br>Answer：  </li>
</ul>
<p>你用的是系统自带的Express版本，这个是没有的，要用完整版，从这里可以下载到：  </p>
<p><a href="http://www.microsoft.com/download/en/details.aspx?id=27538" target="_blank" rel="external">Microsoft® Visual Studio® 11 Developer Preview (ISO)</a></p>
<ul>
<li>2、认证不通过<br>Answer:  </li>
</ul>
<p>照着指引改吧，第三方库写的不好的话，改起来就会很痛苦；或者你等待Win8普及后第三方库作者更新代码。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/win8/" rel="tag"># win8</a>
          
            <a href="/tags/winrt/" rel="tag"># winrt</a>
          
            <a href="/tags/3rdparty/" rel="tag"># 3rdparty</a>
          
            <a href="/tags/port/" rel="tag"># port</a>
          
            <a href="/tags/sqlite/" rel="tag"># sqlite</a>
          
            <a href="/tags/zlib/" rel="tag"># zlib</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2011/12/30/win32-and-com-for-metro-style-apps/" rel="next" title="转载合集Win32 and COM for Metro style apps">
                <i class="fa fa-chevron-left"></i> 转载合集Win32 and COM for Metro style apps
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2012/01/02/access-denied-on-pictures-library/" rel="prev" title="无法访问“我的图片(Pictures Library)”中的文件">
                无法访问“我的图片(Pictures Library)”中的文件 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2011/12/30/3rdparty-port-to-winrt/" data-title="第三方库在WinRT下的使用" data-url="http://linyehui.me/2011/12/30/3rdparty-port-to-winrt/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="linyehui">
          <p class="site-author-name" itemprop="name">linyehui</p>
          <p class="site-description motion-element" itemprop="description">HABIT IS POWSER</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">141</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">176</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/linyehui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/linyehui" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#推荐的方法："><span class="nav-number">1.</span> <span class="nav-text">推荐的方法：</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#不推荐的方法"><span class="nav-number">2.</span> <span class="nav-text">不推荐的方法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#可能存在的疑问："><span class="nav-number">3.</span> <span class="nav-text">可能存在的疑问：</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2010 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-wifi"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" target="_blank" rel="external">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"linyehui"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/23/2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/index/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="John Doe">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="易到用车iOS技术博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="易到用车iOS技术博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/23/2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/index/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-23T00:40:42+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/02/23/2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/index/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/23/2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/index/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="win8,winrt,microsoft-bug,">








  <link rel="shortcut icon" type="image/x-icon" href="/media/favicon.gif?v=5.1.0">






<meta name="description" content="问题描述：最近我在将一些代码从Win32迁移到WinRT，开发环境是Win8的Windows Developer Preview版和Visual Studio 11 Developer Preview，在迁移sqlite和zlib时发现了一个诡异的问题：  
编译.C后缀的文件，无论是什么文件，只要以c类型编译都会出现一个Error

E:\SQliteBuildDemo\SQliteBuildD">
<meta property="og:type" content="article">
<meta property="og:title" content="VS2011 Preview版本下在Metrol style app中使用.C文件">
<meta property="og:url" content="http://linyehui.me/2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/index.html">
<meta property="og:site_name" content="HABIT IS POWSER">
<meta property="og:description" content="问题描述：最近我在将一些代码从Win32迁移到WinRT，开发环境是Win8的Windows Developer Preview版和Visual Studio 11 Developer Preview，在迁移sqlite和zlib时发现了一个诡异的问题：  
编译.C后缀的文件，无论是什么文件，只要以c类型编译都会出现一个Error

E:\SQliteBuildDemo\SQliteBuildD">
<meta property="og:updated_time" content="2016-02-29T08:22:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="VS2011 Preview版本下在Metrol style app中使用.C文件">
<meta name="twitter:description" content="问题描述：最近我在将一些代码从Win32迁移到WinRT，开发环境是Win8的Windows Developer Preview版和Visual Studio 11 Developer Preview，在迁移sqlite和zlib时发现了一个诡异的问题：  
编译.C后缀的文件，无论是什么文件，只要以c类型编译都会出现一个Error

E:\SQliteBuildDemo\SQliteBuildD">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://linyehui.me/2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/">





  <title> VS2011 Preview版本下在Metrol style app中使用.C文件 | HABIT IS POWSER </title>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59868687";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">HABIT IS POWSER</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">习惯就是力量</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://linyehui.me/2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/">

  <span style="display:none" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="linyehui">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="HABIT IS POWSER">
    <span style="display:none" itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="HABIT IS POWSER" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                VS2011 Preview版本下在Metrol style app中使用.C文件
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2011-12-22T00:00:00+08:00">
                2011-12-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="问题描述："><a href="#问题描述：" class="headerlink" title="问题描述："></a>问题描述：</h1><p>最近我在将一些代码从Win32迁移到WinRT，开发环境是Win8的Windows Developer Preview版和Visual Studio 11 Developer Preview，在迁移sqlite和zlib时发现了一个诡异的问题：  </p>
<p>编译.C后缀的文件，无论是什么文件，只要以c类型编译都会出现一个Error</p>
<blockquote>
<p>E:\SQliteBuildDemo\SQliteBuildDemo\sqlite3.c : fatal error C1083: Cannot open compiler intermediate file:<br>‘C:\Users\linyehui\AppData\Local\Temp_CL_01c0d5cfmd’: No such file or directory</p>
</blockquote>
<p>但如果什么都不改，只是把工程中的.c文件属性里的编译类型改成C++，就不会有这个错误，但需要将C的语法转换成C++语法才可以。</p>
<h1 id="问题解决方案："><a href="#问题解决方案：" class="headerlink" title="问题解决方案："></a>问题解决方案：</h1><h2 id="1、不靠谱的第一种方案"><a href="#1、不靠谱的第一种方案" class="headerlink" title="1、不靠谱的第一种方案"></a>1、不靠谱的第一种方案</h2><p>既然用C++编译可以，那就改成C++编译，然后把C的语法改成C++。</p>
<h3 id="弊端："><a href="#弊端：" class="headerlink" title="弊端："></a>弊端：</h3><p>这个工作量和.C文件本身的代码风格会有很大的差异，像我们的工程用到了sqlite和zlib，sqlite代码相对少点，但是把所有zlib中的.c改造成c++那真是一项繁重的体力活!!</p>
<h2 id="2、方案2：Win32-Static-Lib"><a href="#2、方案2：Win32-Static-Lib" class="headerlink" title="2、方案2：Win32 Static Lib"></a>2、方案2：Win32 Static Lib</h2><p>新建了一个3rdparty的Win32 static lib工程，把sqlite和zlib的代码都添加进去，然后在Metro style app工程中include上这个3rdparty.lib</p>
<h3 id="弊端或者说是风险："><a href="#弊端或者说是风险：" class="headerlink" title="弊端或者说是风险："></a>弊端或者说是风险：</h3><p>在Metrol style app中引用win32的代码要特别留意，因为WinRT下只包含了Win32 API的一个子集，所以如果你在Win32工程下使用了WinRT不支持的API，那么工程虽然编译过了，但在WinRT下的使用其实是会有问题的，到时你可能会被这种错误搞的莫名其妙。</p>
<p>举例来说：  </p>
<p>WinRT下是不支持WinSock2.h这套API的，但如果你的Win32 static lib工程中使用了这样的方法，而Metrol style app工程又使用了这个static lib，那么你的应用其实是有问题的，甚至有可能都无法通过Windows Store的上架申请。</p>
<h1 id="小结："><a href="#小结：" class="headerlink" title="小结："></a>小结：</h1><p>两个方案我都尝试过，都是可行的，但都有弊端，其实这个问题归根结底就是Visual Studio 11 Developer Preview的一个bug，下一个VS2011版本应该就会修正了。  </p>
<p>嗯，这是微软的一个BUG。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/win8/" rel="tag"># win8</a>
          
            <a href="/tags/winrt/" rel="tag"># winrt</a>
          
            <a href="/tags/microsoft-bug/" rel="tag"># microsoft-bug</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2011/12/18/how-to-access-ui-element-in-another-thread/" rel="next" title="WinRT下如何在另外一个线程中访问UI线程">
                <i class="fa fa-chevron-left"></i> WinRT下如何在另外一个线程中访问UI线程
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2011/12/28/how-to-port-code-to-winrt/" rel="prev" title="How To Port Code To WinRT">
                How To Port Code To WinRT <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/" data-title="VS2011 Preview版本下在Metrol style app中使用.C文件" data-url="http://linyehui.me/2011/12/22/build-c-files-in-metrol-style-app-project-with-vs2011/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="linyehui">
          <p class="site-author-name" itemprop="name">linyehui</p>
          <p class="site-description motion-element" itemprop="description">HABIT IS POWSER</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">141</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">176</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/linyehui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/linyehui" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#问题描述："><span class="nav-number">1.</span> <span class="nav-text">问题描述：</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#问题解决方案："><span class="nav-number">2.</span> <span class="nav-text">问题解决方案：</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、不靠谱的第一种方案"><span class="nav-number">2.1.</span> <span class="nav-text">1、不靠谱的第一种方案</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#弊端："><span class="nav-number">2.1.1.</span> <span class="nav-text">弊端：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、方案2：Win32-Static-Lib"><span class="nav-number">2.2.</span> <span class="nav-text">2、方案2：Win32 Static Lib</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#弊端或者说是风险："><span class="nav-number">2.2.1.</span> <span class="nav-text">弊端或者说是风险：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#小结："><span class="nav-number">3.</span> <span class="nav-text">小结：</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2010 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-wifi"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" target="_blank" rel="external">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"linyehui"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/23/2012/01/06/smart-team/index/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="John Doe">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="易到用车iOS技术博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="易到用车iOS技术博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/23/2012/01/06/smart-team/index/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-23T00:40:42+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/02/23/2012/01/06/smart-team/index/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/23/2012/01/06/smart-team/index/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="idea,">








  <link rel="shortcut icon" type="image/x-icon" href="/media/favicon.gif?v=5.1.0">






<meta name="description" content="比较推崇《Rework》中的小团队小公司，其实我自己也是从投入工作开始一直在经意或不经意地探寻着小团队的成功之道
且不论团队大小，团队成功的要素是什么？  
成功的团队大多是相似，但失败的团队却各有各的不幸。  
这些看似相似的成功经验，每个关键字都能写成一本书：定位、执行力、管理、成本控制……
那么小团队在这些很可能带来成功的因素上有什么优劣势呢？
1、定位决策的团队不可能太多，也不能太多，团队">
<meta property="og:type" content="article">
<meta property="og:title" content="小团队大智慧">
<meta property="og:url" content="http://linyehui.me/2012/01/06/smart-team/index.html">
<meta property="og:site_name" content="HABIT IS POWSER">
<meta property="og:description" content="比较推崇《Rework》中的小团队小公司，其实我自己也是从投入工作开始一直在经意或不经意地探寻着小团队的成功之道
且不论团队大小，团队成功的要素是什么？  
成功的团队大多是相似，但失败的团队却各有各的不幸。  
这些看似相似的成功经验，每个关键字都能写成一本书：定位、执行力、管理、成本控制……
那么小团队在这些很可能带来成功的因素上有什么优劣势呢？
1、定位决策的团队不可能太多，也不能太多，团队">
<meta property="og:updated_time" content="2016-02-29T08:22:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小团队大智慧">
<meta name="twitter:description" content="比较推崇《Rework》中的小团队小公司，其实我自己也是从投入工作开始一直在经意或不经意地探寻着小团队的成功之道
且不论团队大小，团队成功的要素是什么？  
成功的团队大多是相似，但失败的团队却各有各的不幸。  
这些看似相似的成功经验，每个关键字都能写成一本书：定位、执行力、管理、成本控制……
那么小团队在这些很可能带来成功的因素上有什么优劣势呢？
1、定位决策的团队不可能太多，也不能太多，团队">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://linyehui.me/2012/01/06/smart-team/">





  <title> 小团队大智慧 | HABIT IS POWSER </title>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59868687";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">HABIT IS POWSER</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">习惯就是力量</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://linyehui.me/2012/01/06/smart-team/">

  <span style="display:none" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="linyehui">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="HABIT IS POWSER">
    <span style="display:none" itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="HABIT IS POWSER" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                小团队大智慧
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2012-01-06T00:00:00+08:00">
                2012-01-06
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2012/01/06/smart-team/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2012/01/06/smart-team/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>比较推崇《Rework》中的小团队小公司，其实我自己也是从投入工作开始一直在经意或不经意地探寻着小团队的成功之道</p>
<p>且不论团队大小，团队成功的要素是什么？  </p>
<p>成功的团队大多是相似，但失败的团队却各有各的不幸。  </p>
<p>这些看似相似的成功经验，每个关键字都能写成一本书：定位、执行力、管理、成本控制……</p>
<p>那么小团队在这些很可能带来成功的因素上有什么优劣势呢？</p>
<h1 id="1、定位"><a href="#1、定位" class="headerlink" title="1、定位"></a>1、定位</h1><p>决策的团队不可能太多，也不能太多，团队总是要有人来领导，其他人要做的就是100%的信任，或者离开，所以这点上小团队和大团队不会有直接的高下之分。</p>
<h1 id="2、执行力"><a href="#2、执行力" class="headerlink" title="2、执行力"></a>2、执行力</h1><p>我个人是一个GTD深度中毒者，我会尽可能的把任务分解，然后按优先级排序然后逐个执行，这是我的高效法则；  </p>
<p>对于一个团队来说只要他还有着生命力，那么工作永远都是做不完的，那么无非还是一样：优先级；  </p>
<p>假设团队成员的数量决定执行力的话那么小团队的缺点在于会做的比大团的慢，这也许是很多创业小团队在别人下班的时候还在干活的原因，因为他们人少；  </p>
<p>但是，执行力并不是和人数的多少成正比！所以在这一点上我个人的观点是：取决于团队的目标，目标由小变大，人员也以应该有小变大，然后保持平衡；  </p>
<p>老板们都希望自己手下有一支短小精干的小团队，就像《24》里的杰克鲍尔，执行力上，CTU的10人小团队，不会差于军队。</p>
<h1 id="3、管理"><a href="#3、管理" class="headerlink" title="3、管理"></a>3、管理</h1><p>……</p>
<h1 id="4、成本控制、风险投资"><a href="#4、成本控制、风险投资" class="headerlink" title="4、成本控制、风险投资"></a>4、成本控制、风险投资</h1><p>……</p>
<hr>
<h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>这篇随笔的草稿很早就写成了，但是一直想不到该如何续笔，也许未完成也是一种完成，完成了记录当时思考状态的文章。  </p>
<p>我喜欢小团队，希望自己的小团队能够敏捷的输出好的产品和理念，2012年还有很多事情要做，小团队暂时只剩我一个人全职了，但会慢慢好起来的~  </p>
<p>我调侃的跟lori说，等我一个人把Win8QQ写好了，我就可以升T4了，谁说不是呢！  </p>
<p>但一个人注定不是团队，期待我的队友们归队的那一天。</p>
<h3 id="最后，以海贼王的经典台词自勉："><a href="#最后，以海贼王的经典台词自勉：" class="headerlink" title="最后，以海贼王的经典台词自勉："></a>最后，以海贼王的经典台词自勉：</h3><blockquote>
<p>“白痴!我根本就不会剑术！而且我也不会航海！更不会做菜！也不会说谎！不懂医术！不懂历史！不懂修船！不懂音乐！如果没有他们的帮助我根本活不下去！”</p>
</blockquote>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/idea/" rel="tag"># idea</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2012/01/02/access-denied-on-pictures-library/" rel="next" title="无法访问“我的图片(Pictures Library)”中的文件">
                <i class="fa fa-chevron-left"></i> 无法访问“我的图片(Pictures Library)”中的文件
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2012/01/08/soft-keyboard-make-a-black-screen/" rel="prev" title="WinRT下软键盘导致的“黑屏”">
                WinRT下软键盘导致的“黑屏” <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2012/01/06/smart-team/" data-title="小团队大智慧" data-url="http://linyehui.me/2012/01/06/smart-team/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="linyehui">
          <p class="site-author-name" itemprop="name">linyehui</p>
          <p class="site-description motion-element" itemprop="description">HABIT IS POWSER</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">141</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">176</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/linyehui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/linyehui" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1、定位"><span class="nav-number">1.</span> <span class="nav-text">1、定位</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2、执行力"><span class="nav-number">2.</span> <span class="nav-text">2、执行力</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3、管理"><span class="nav-number">3.</span> <span class="nav-text">3、管理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4、成本控制、风险投资"><span class="nav-number">4.</span> <span class="nav-text">4、成本控制、风险投资</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#结语"><span class="nav-number">5.</span> <span class="nav-text">结语</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#最后，以海贼王的经典台词自勉："><span class="nav-number">5.0.1.</span> <span class="nav-text">最后，以海贼王的经典台词自勉：</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2010 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-wifi"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" target="_blank" rel="external">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"linyehui"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/23/2012/01/02/access-denied-on-pictures-library/index/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="John Doe">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="易到用车iOS技术博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="易到用车iOS技术博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/23/2012/01/02/access-denied-on-pictures-library/index/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-23T00:40:42+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/02/23/2012/01/02/access-denied-on-pictures-library/index/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/23/2012/01/02/access-denied-on-pictures-library/index/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="win8,winrt,access,pictures-library,">








  <link rel="shortcut icon" type="image/x-icon" href="/media/favicon.gif?v=5.1.0">






<meta name="description" content="问题在WinRT下，文件访问有着严格的限制，默认你只能访问Windows::Storage::ApplicationData::Current  下属的一些目录，连“我的文档”，“我的图片”都无法访问。  
那么如果我们想从“我的图片”中选择一张图片并上传，我们应该怎么做呢？
我当时也找到了这个MSDN帖子:Access denied on Pictures library，但没有得到答案，最终我">
<meta property="og:type" content="article">
<meta property="og:title" content="无法访问“我的图片(Pictures Library)”中的文件">
<meta property="og:url" content="http://linyehui.me/2012/01/02/access-denied-on-pictures-library/index.html">
<meta property="og:site_name" content="HABIT IS POWSER">
<meta property="og:description" content="问题在WinRT下，文件访问有着严格的限制，默认你只能访问Windows::Storage::ApplicationData::Current  下属的一些目录，连“我的文档”，“我的图片”都无法访问。  
那么如果我们想从“我的图片”中选择一张图片并上传，我们应该怎么做呢？
我当时也找到了这个MSDN帖子:Access denied on Pictures library，但没有得到答案，最终我">
<meta property="og:updated_time" content="2016-02-29T08:22:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="无法访问“我的图片(Pictures Library)”中的文件">
<meta name="twitter:description" content="问题在WinRT下，文件访问有着严格的限制，默认你只能访问Windows::Storage::ApplicationData::Current  下属的一些目录，连“我的文档”，“我的图片”都无法访问。  
那么如果我们想从“我的图片”中选择一张图片并上传，我们应该怎么做呢？
我当时也找到了这个MSDN帖子:Access denied on Pictures library，但没有得到答案，最终我">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://linyehui.me/2012/01/02/access-denied-on-pictures-library/">





  <title> 无法访问“我的图片(Pictures Library)”中的文件 | HABIT IS POWSER </title>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59868687";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">HABIT IS POWSER</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">习惯就是力量</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://linyehui.me/2012/01/02/access-denied-on-pictures-library/">

  <span style="display:none" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="linyehui">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="HABIT IS POWSER">
    <span style="display:none" itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="HABIT IS POWSER" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                无法访问“我的图片(Pictures Library)”中的文件
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2012-01-02T00:00:00+08:00">
                2012-01-02
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2012/01/02/access-denied-on-pictures-library/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2012/01/02/access-denied-on-pictures-library/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>在WinRT下，文件访问有着严格的限制，默认你只能访问<strong>Windows::Storage::ApplicationData::Current</strong>  下属的一些目录，连“我的文档”，“我的图片”都无法访问。  </p>
<p>那么如果我们想从“我的图片”中选择一张图片并上传，我们应该怎么做呢？</p>
<p>我当时也找到了这个<a href="http://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/0fef7363-73c6-4ff5-8e03-14b795e47068" target="_blank" rel="external">MSDN帖子:Access denied on Pictures library</a>，但没有得到答案，最终我自己解决后回复如下：</p>
<blockquote>
<p>If you want access a file in Document Library，you must follow:<br>1.select “Document Library Access” in “Capabilities” Tab of “.appxmanifest”<br>2.add “File Type Associations” in Declarations Tab of “.appxmanifest” </p>
<p>you can get sample from “File access sample”, which is one of “Windows Developer Preview Metro style app samples”</p>
</blockquote>
<h1 id="描述下我的解决方案："><a href="#描述下我的解决方案：" class="headerlink" title="描述下我的解决方案："></a>描述下我的解决方案：</h1><ul>
<li>1、打开.appxmanifest文件，进入”Capabilities” Tab页，将”Picture Library Access”勾上</li>
<li>2、打开.appxmanifest文件，进入”Declarations” Tab页，添加”File Type Associations”，并在右侧的<strong>“Supported File Types”</strong>中加上“.png”、”.jpg”等的文件类型支持。  </li>
</ul>
<p>这一步我自己也是后面自己查看后才发现的，一定要特别留意。</p>
<ul>
<li>3、有了上面两步，你就可以用Windows::Storage下的API进行访问和修改Picture Library下的文件了，不过你还是不能用Win32的API来访问下面的文件，怎么办呢？</li>
</ul>
<h3 id="方法还是有的："><a href="#方法还是有的：" class="headerlink" title="方法还是有的："></a>方法还是有的：</h3><p>用Windows::Storage下的CopyAsync方法先把文件复制到应用自己的目录下：Windows::Storage::ApplicationData::Current-&gt;TemporaryFolder，  </p>
<p>在这个目录下的文件你就可以用CreateFile2、fopen等方法来访问了。  </p>
<p>从Picture Library复制到App Temp目录下的代码就暂时不放出来了，除非有人需要，其实就是一堆的Lambda表达式</p>
<h1 id="小结："><a href="#小结：" class="headerlink" title="小结："></a>小结：</h1><p>其实你在“Capabilities”中选择“Document Library Access”时，右边的文字提示对这个问题说的很清楚，只是大家一开始都没太留意，原来还有一个步骤要做：  </p>
<blockquote>
<p>The package can onle access file types in the documents library that are defined in the manifest<br>using the File Association Handler declaration.</p>
</blockquote>
<p>原文：</p>
<blockquote>
<p>Proviedes the capability to add, change, or delete files in the documents library. The package can onle access file<br>types in the documents library that are defined in the manifest using the File Association Handler declaration.<br>The package cannot access document libraryies on HomeGroup computers.</p>
</blockquote>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/win8/" rel="tag"># win8</a>
          
            <a href="/tags/winrt/" rel="tag"># winrt</a>
          
            <a href="/tags/access/" rel="tag"># access</a>
          
            <a href="/tags/pictures-library/" rel="tag"># pictures-library</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2011/12/30/3rdparty-port-to-winrt/" rel="next" title="第三方库在WinRT下的使用">
                <i class="fa fa-chevron-left"></i> 第三方库在WinRT下的使用
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2012/01/06/smart-team/" rel="prev" title="小团队大智慧">
                小团队大智慧 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2012/01/02/access-denied-on-pictures-library/" data-title="无法访问“我的图片(Pictures Library)”中的文件" data-url="http://linyehui.me/2012/01/02/access-denied-on-pictures-library/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="linyehui">
          <p class="site-author-name" itemprop="name">linyehui</p>
          <p class="site-description motion-element" itemprop="description">HABIT IS POWSER</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">141</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">176</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/linyehui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/linyehui" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#问题"><span class="nav-number">1.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#描述下我的解决方案："><span class="nav-number">2.</span> <span class="nav-text">描述下我的解决方案：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#方法还是有的："><span class="nav-number">2.0.1.</span> <span class="nav-text">方法还是有的：</span></a></li></ol></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#小结："><span class="nav-number">3.</span> <span class="nav-text">小结：</span></a></li></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2010 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-wifi"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" target="_blank" rel="external">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"linyehui"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="John Doe" />
          <p class="site-author-name" itemprop="name">John Doe</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">106</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/linyehui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/linyehui" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2010 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-wifi"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"linyehui"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>
